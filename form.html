<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>

  <!-- Google Icon -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <!-- Jquery -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <!-- Vuejs -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
  <div id="app">
    <header></header>
    <main>

      <div class="container">

        <div class="row">
          <div class="col s12 m6">
            <div class="card">
              <div class="card-content">
                <h3 class="center">{{ title }}</h3>
                <div class="row">
                  <form class="col s12">

                    <!-- Step 1 -->
                    <template id="step_1" v-if="current_step == 1">
                      <div class="progress">
                        <div class="determinate" style="width: 33%"></div>
                      </div>
                      <div>
                        <!-- Name -->
                        <div class="row">
                          <div class="input-field col s12">
                            <input id="name" type="text" class="validate" v-model="step_1.name" required>
                            <label for="name">Company Name</label>
                          </div>
                        </div>

                        <!-- Country -->
                        <div class="row">
                          <div class="input-field col s12">
                            <input id="country" type="text" class="validate" v-model="step_1.country" required>
                            <label for="country">Country</label>
                          </div>
                        </div>

                        <!-- City && Address -->
                        <div class="row">
                          <div class="input-field col s5">
                            <input id="city" type="text" class="validate" v-model="step_1.city">
                            <label for="city">City</label>
                          </div>
                          <div class="input-field col s7">
                            <input id="address" type="text" class="validate" v-model="step_1.address">
                            <label for="address">Address</label>
                          </div>
                        </div>
                      </div>
                      <!-- Button -->
                      <div class="row">
                        <button class="btn right" type="button" @click.prevent="goToStep(2)">Next</button>
                      </div>
                    </template>

                    <!-- Step 2 -->
                    <template id="step_2" v-if="current_step == 2">
                      <div class="progress">
                        <div class="determinate" style="width: 66%"></div>
                      </div>
                      <div>
                        <!-- Description -->
                        <div class="row">
                          <div class="input-field col s12">
                            <textarea id="description" type="text" class="materialize-textarea"
                              v-model="step_2.description"></textarea>
                            <label for="description">Description</label>
                          </div>
                        </div>

                        <!-- Size -->
                        <div class="row">
                          <div class="input-field col s12">
                            <select class="browser-default">
                              <option value="" disabled selected>Choose your option</option>
                              <option value="1">Option 1</option>
                              <option value="2">Option 2</option>
                              <option value="3">Option 3</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <!-- Button -->
                      <div class="row">
                        <button class="btn right" type="button" @click.prevent="goToStep(3)">Next</button>

                        <button class="btn left" type="button" @click.prevent="goToStep(1)">Back</button>
                      </div>
                    </template>

                    <!-- Step 3 -->
                    <template id="step_3" v-if="current_step == 3">
                      <div class="progress">
                        <div class="determinate" style="width: 100%"></div>
                      </div>
                      <div>
                        <!-- Logo -->
                        <div class="row">
                          <div class="file-field input-field">
                            <div class="btn">
                              <span>File</span>
                              <input type="file">
                            </div>
                            <div class="file-path-wrapper">
                              <input type="file-path validate" type="text" v-model="step_3.file">
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- Button -->
                      <div class="row">
                        <button class="btn right" type="button" @click.prevent="goToStep(4)">Next</button>

                        <button class="btn left" type="button" @click.prevent="goToStep(2)">Back</button>
                      </div>
                    </template>

                    <!-- Step 4 VALIDATION -->
                    <template id="step_4" v-if="current_step == 4">
                      <div>
                        <ul>
                          <li>{{step_1.name}}</li>
                          <li>{{step_1.country}}</li>
                          <li>{{step_1.city}}</li>
                          <li>{{step_1.address}}</li>
                        </ul>
                        <ul>
                          <li>{{step_2.description}}</li>
                          <li>{{step_2.size}}</li>
                        </ul>
                      </div>
                      <div>
                        <button class="btn right" type="button" @click.prevent="confirmed()">Confirm</button>

                        <button class="btn left" type="button" @click.prevent="goToStep(3)">Back</button>
                      </div>
                    </template>

                  </form>
                </div>

              </div>
            </div>
          </div>
        </div>

      </div>

    </main>
    <footer></footer>
    <!-- Compiled and minified JavaScript -->
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <script>
    //Init CSS Framework Materialize
    M.AutoInit();

    Vue.component('step_1', {
      template: '#step_1',
      props: [
        'current_step',
        'step_1'
      ]
    });

    Vue.component('step_2', {
      template: '#step_2',
      props: [
        'current_step',
        'step_2'
      ]
    });

    Vue.component('step_3', {
      template: '#step_3',
      props: [
        'current_step',
        'step_3'
      ]
    });

    Vue.component('step_4', {
      template: '#step_4',
      props: [
        'current_step',
        'step_1',
        'step_2',
        'step_3'
      ]
    });

    let app = new Vue({
      el: '#app',
      data: {
        title: 'Company',
        current_step: 1,
        step_1: {
          name: '',
          country: '',
          city: '',
          address: ''
        },
        step_2: {
          description: '',
          size: ''
        },
        step_3: {
          file: null
        }
      },
      ready: function () {
        console.log('ready');
      },
      methods: {
        goToStep: function (step) {
          this.current_step = step;
        },
        confirmed: function () {
          console.log("Confirmation");
        }
      }
    });

    // Optionally the request above could also be done as
    axios.get('/localhost/people')
    .then(function (response) {
      console.log(response);
    })
    .catch(function (error) {
      console.log(error);
    })
    .then(function () {
      // always executed
    })
  </script>
</body>

</html>